# APS â€“ Dados Seguros (Chapada dos GuimarÃ£es - MT)

Este repositÃ³rio reÃºne **scripts, modelos de dashboard e fluxos de automaÃ§Ã£o** para proteger e tratar com responsabilidade dados sensÃ­veis da AtenÃ§Ã£o PrimÃ¡ria Ã  SaÃºde (APS), com foco em uso por secretarias municipais de saÃºde, como em Chapada dos GuimarÃ£es - MT.

---

## ğŸ” Objetivos

- Garantir **seguranÃ§a e conformidade com a LGPD** em dados sensÃ­veis de saÃºde.
- Estruturar **dashboards anonimizados e auditÃ¡veis** com PostgreSQL + Metabase.
- Automatizar **alertas e relatÃ³rios semanais** com n8n.
- Oferecer uma base segura para gestÃ£o territorial da APS.

---

## ğŸ“ Estrutura do RepositÃ³rio

```bash
aps-dados-seguros/
â”œâ”€â”€ sql/
â”‚   â”œâ”€â”€ restore_backup.sql
â”‚   â”œâ”€â”€ anonimizar_dados.sql
â”‚   â”œâ”€â”€ criar_views_publicas.sql
â”‚   â”œâ”€â”€ criar_roles_seguranca.sql
â”‚   â””â”€â”€ auditar_acessos.sql
â”œâ”€â”€ dashboards_metabase/
â”‚   â”œâ”€â”€ dashboard_geral.json
â”‚   â”œâ”€â”€ dashboard_ubs.json
â”‚   â””â”€â”€ modelo_importacao.metabase
â”œâ”€â”€ n8n_workflows/
â”‚   â”œâ”€â”€ alerta_visitas_baixas.json
â”‚   â”œâ”€â”€ relatorio_semanal_email.json
â”‚   â””â”€â”€ bot_perguntas_gpt.json
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ checklist_LGPD.md
â”‚   â”œâ”€â”€ configuracao_postgresql_seguro.md
â”‚   â”œâ”€â”€ politicas_de_backup.md
â”‚   â””â”€â”€ plano_auditoria_dados.md
â”œâ”€â”€ .env.example
â”œâ”€â”€ README.md
â””â”€â”€ LICENSE
```

---

## ğŸ› ï¸ Tecnologias Utilizadas

- **PostgreSQL** (armazenamento seguro dos dados)
- **Metabase** (visualizaÃ§Ã£o e dashboard)
- **n8n** (automaÃ§Ãµes, alertas e relatÃ³rios)
- **GitHub** (controle de versÃ£o e auditoria)

---

## ğŸ§  ConteÃºdo CrÃ­tico Protegido

Este repositÃ³rio Ã© estruturado para funcionar com:
- Bases **anonimizadas** por padrÃ£o
- Scripts de criaÃ§Ã£o de **views pÃºblicas seguras**
- Roles PostgreSQL com **perfis separados** (leitura, ediÃ§Ã£o, administraÃ§Ã£o)
- Logs de **acesso e auditoria** para rastreabilidade de consultas

---

## ğŸ“ Uso TÃ­pico

1. Suba seu PostgreSQL local ou em nuvem (Supabase, Render...)
2. Execute `restore_backup.sql`, `anonimizar_dados.sql` e `auditar_acessos.sql`
3. Importe os dashboards no Metabase
4. Configure os workflows n8n com `.env` de exemplo
5. Use com seguranÃ§a e responsabilidade â€“ este Ã© um repositÃ³rio vivo

---

## âš™ï¸ Arquivo .env.example (modelo)

```bash
# Banco de Dados PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_USER=leitor_dashboard
DB_PASS=senha_segura
DB_NAME=aps_chapada

# Metabase
METABASE_SITE_URL=http://localhost:3000
METABASE_API_KEY=chave_aqui

# n8n
N8N_WEBHOOK_URL=https://n8n.seusistema.com/webhook/
EMAIL_NOTIFICACAO=aps@chapada.mt.gov.br
```

---

## âœ‰ï¸ Contato
Djalma Mascarenhas â€¢ Consultor em energia solar e pesquisador de dados sensÃ­veis

---

## ğŸ“„ LicenÃ§a
Este projeto segue a licenÃ§a **MIT** por padrÃ£o, podendo ser adaptado para uso institucional sob CC-BY-NC-SA.
